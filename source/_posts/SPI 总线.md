---
title: SPI 总线
categories:
  - 外设
  - 嵌入式
date: 2020-05-03 08:10:33
tags:
  - 外设
  - 嵌入式
---

# 概述

SPI是串行外设接口(Serial Peripheral Interface)的缩写。是 Motorola 公司推出的一种同步串行接口技术，是一种高速的，全双工，同步的通信总线。

## 优缺点

### 特点

1. 高速、同步、全双工、非差分、总线式
1. 主从机通信模式

### 优点
1. 支持全双工通信
1. 通信简单
1. 数据传输速率块

### 缺点

1. 没有指定的流控制，没有应答机制确认是否接收到数据，所以跟IIC总线协议比较在数据
1. 可靠性上有一定的缺陷。

# 协议详解

它以主从方式工作，这种模式通常有一个主设备和一个或多个从设备，需要至少4根线，事实上3根也可以(单向传输时)。也是所有基于SPI的设备共有的，它们是SDI(数据输入)、SDO(数据输出)、SCLK(时钟)、CS(片选)。

1. SDO/MOSI – 主设备数据输出，从设备数据输入;
1. SDI/MISO – 主设备数据输入，从设备数据输出;
1. SCLK – 时钟信号，由主设备产生;
1. CS/SS – 从设备使能信号，由主设备控制。当有多个从设备的时候，因为每个从设备上都有一个片选引脚接入到主设备机中，当我们的主设备和某个从设备通信时将需要将从设备对应的片选引脚电平拉低或者是拉高。

![mark](http://depot.wanqiang.wang/blog/20200503/Q13S5At43CUc.png?imageslim)
